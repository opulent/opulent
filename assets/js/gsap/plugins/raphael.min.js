var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=/[^\d\-\.]/g,e=Math.PI/180,r=/(\d|\.)+/g,s={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},a=function(t){return"number"==typeof t?[t>>16,t>>8&255,255&t]:""===t||null==t||"none"===t||"string"!=typeof t?s.transparent:s[t]?s[t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),t=parseInt(t.substr(1),16),[t>>16,t>>8&255,255&t]):t.match(r)||s.transparent},o={scaleX:1,scaleY:1,tx:1,ty:1,rotation:1,shortRotation:1,skewX:1,skewY:1,scale:1},n=function(t,e){var r=t.matrix,s=1e-6,a=r.a,o=r.b,n=r.c,i=r.d,p=e?t._gsTransform||{skewY:0}:{skewY:0},h=p.scaleX<0;return p.tx=r.e-(p.ox||0),p.ty=r.f-(p.oy||0),p.scaleX=Math.sqrt(a*a+o*o),p.scaleY=Math.sqrt(i*i+n*n),p.rotation=a||o?Math.atan2(o,a):p.rotation||0,p.skewX=n||i?Math.atan2(n,i)+p.rotation:p.skewX||0,Math.abs(p.skewX)>Math.PI/2&&(h?(p.scaleX*=-1,p.skewX+=p.rotation<=0?Math.PI:-Math.PI,p.rotation+=p.rotation<=0?Math.PI:-Math.PI):(p.scaleY*=-1,p.skewX+=p.skewX<=0?Math.PI:-Math.PI)),p.rotation<s&&p.rotation>-s&&(a||o)&&(p.rotation=0),p.skewX<s&&p.skewX>-s&&(o||n)&&(p.skewX=0),e&&(t._gsTransform=p),p},i=function(t,e){return null==t?e:"string"==typeof t&&1===t.indexOf("=")?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:Number(t)},p=function(r,s){var a=-1===r.indexOf("rad")?e:1,o=1===r.indexOf("=");return r=Number(r.replace(t,""))*a,o?r+s:r},h=_gsScope._gsDefine.plugin({propName:"raphael",version:"0.2.2",API:2,init:function(e,r,s){if(!e.attr)return!1;this._target=e,this._tween=s,this._props=e._gsProps=e._gsProps||{};var n,i,p,h,l,c,u;for(n in r)p=r[n],"transform"!==n?o[n]||"pivot"===n?this._parseTransform(e,r):(i=e.attr(n),this._firstPT=h={_next:this._firstPT,t:this._props,p:n,b:i,f:!1,n:"raphael_"+n,r:!1,type:0},"fill"===n||"stroke"===n?(l=a(i),c=a(p),h.e=p,h.s=Number(l[0]),h.c=Number(c[0])-h.s,h.gs=Number(l[1]),h.gc=Number(c[1])-h.gs,h.bs=Number(l[2]),h.bc=Number(c[2])-h.bs,l.length>3||c.length>3?(h.as=l.length<4?1:Number(l[3]),h.ac=(c.length<4?1:Number(c[3]))-h.as,h.type=2):h.type=1):(i="string"==typeof i?parseFloat(i.replace(t,"")):Number(i),"string"==typeof p?(u="="===p.charAt(1),p=parseFloat(p.replace(t,""))):u=!1,h.e=p||0===p?u?p+i:p:r[n],!i&&0!==i||!p&&0!==p||!(h.c=u?p:p-i)?(h.type=-1,h.i=r[n],h.s=h.c=0):h.s=i),this._overwriteProps.push("raphael_"+n),h._next&&(h._next._prev=h)):this._parseTransform(e,p);return!0},set:function(t){for(var e,r=this._firstPT;r;)e=r.c*t+r.s,r.r&&(e=Math.round(e)),r.type?1===r.type?r.t[r.p]="rgb("+(e>>0)+", "+(r.gs+t*r.gc>>0)+", "+(r.bs+t*r.bc>>0)+")":2===r.type?r.t[r.p]="rgba("+(e>>0)+", "+(r.gs+t*r.gc>>0)+", "+(r.bs+t*r.bc>>0)+", "+(r.as+t*r.ac)+")":-1===r.type&&(r.t[r.p]=r.i):r.t[r.p]=e,r=r._next;if(this._target.attr(this._props),this._transform){r=this._transform;var s=r.rotation,a=s-r.skewX,o=Math.cos(s)*r.scaleX,n=Math.sin(s)*r.scaleX,i=Math.sin(a)*-r.scaleY,p=Math.cos(a)*r.scaleY,h=1e-6,l=this._pxl,c=this._pyl;h>n&&n>-h&&(n=0),h>i&&i>-h&&(i=0),r.ox=this._pxg-(l*o+c*i),r.oy=this._pyg-(l*n+c*p),this._target.transform("m"+o+","+n+","+i+","+p+","+(r.tx+r.ox)+","+(r.ty+r.oy))}}}),l=h.prototype;l._parseTransform=function(t,r){if(!this._transform){var s,a,h,l,c,u,f,_,g,y=this._transform=n(t,!0),w=1e-6;if("object"==typeof r){if(s={scaleX:i(null!=r.scaleX?r.scaleX:r.scale,y.scaleX),scaleY:i(null!=r.scaleY?r.scaleY:r.scale,y.scaleY),tx:i(r.tx,y.tx),ty:i(r.ty,y.ty)},null!=r.shortRotation){s.rotation="number"==typeof r.shortRotation?r.shortRotation*e:p(r.shortRotation,y.rotation);var b=(s.rotation-y.rotation)%(2*Math.PI);b!==b%Math.PI&&(b+=Math.PI*(0>b?2:-2)),s.rotation=y.rotation+b}else s.rotation=null==r.rotation?y.rotation:"number"==typeof r.rotation?r.rotation*e:p(r.rotation,y.rotation);s.skewX=null==r.skewX?y.skewX:"number"==typeof r.skewX?r.skewX*e:p(r.skewX,y.skewX),s.skewY=null==r.skewY?y.skewY:"number"==typeof r.skewY?r.skewY*e:p(r.skewY,y.skewY),(a=s.skewY-y.skewY)&&(s.skewX+=a,s.rotation+=a),s.skewY<w&&s.skewY>-w&&(s.skewY=0),s.skewX<w&&s.skewX>-w&&(s.skewX=0),s.rotation<w&&s.rotation>-w&&(s.rotation=0),g=r.localPivot||r.globalPivot,"string"==typeof g?(c=g.split(","),u=Number(c[0]),f=Number(c[1])):"object"==typeof g?(u=Number(g.x),f=Number(g.y)):r.localPivot?(c=t.getBBox(!0),u=c.width/2,f=c.height/2):(c=t.getBBox(),u=c.x+c.width/2,f=c.y+c.height/2),r.localPivot?(_=t.matrix,u+=t.attr("x"),f+=t.attr("y"),this._pxl=u,this._pyl=f,this._pxg=u*_.a+f*_.c+_.e-y.tx,this._pyg=u*_.b+f*_.d+_.f-y.ty):(_=t.matrix.invert(),this._pxl=u*_.a+f*_.c+_.e,this._pyl=u*_.b+f*_.d+_.f,this._pxg=u-y.tx,this._pyg=f-y.ty)}else{if("string"!=typeof r)return;c=this._target.transform(),t.transform(r),s=n(t,!1),t.transform(c)}for(h in o)y[h]!==s[h]&&"shortRotation"!==h&&"scale"!==h&&(this._firstPT=l={_next:this._firstPT,t:y,p:h,s:y[h],c:s[h]-y[h],n:h,f:!1,r:!1,b:y[h],e:s[h],type:0},l._next&&(l._next._prev=l),this._overwriteProps.push("raphael_"+h))}}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();