(function(){!function(t,n,e){"use strict";var i;t.smoothscroll=function(e,i){var o;o={friction:.95,direction:void 0,on_render:null,step_amount:1,min_movement:.1},this.container=t(e),this.running=!1,this.max_scroll_top=0,this.min_scroll_top=void 0,this.current_y=0,this.target_y=0,this.old_y=0,this.vy=0,this.initialize=function(e){return function(){e.settings=t.extend({},o,i),"ontouchstart"in n||(e.container.bind("mousewheel DOMMouseScroll",e.on_wheel),e.target_y=e.old_y=e.container.scrollTop(),e.current_y=-e.target_y,e.min_scroll_top=e.container.get(0).clientHeight-e.container.get(0).scrollHeight,e.running||(e.running=!0,e.animate_loop()))}}(this),this.remove=function(t){return function(){t.running=!1,t.container.unbind("mousewheel",t.on_wheel),t.container.unbind("DOMMouseScroll",t.on_wheel)}}(this),this.update_scroll_target=function(t){return function(n){t.target_y+=n,t.vy+=(t.target_y-t.old_y)*t.settings.step_amount,t.old_y=t.target_y}}(this),this.render=function(t){return function(){(t.vy<-t.settings.min_movement||t.vy>t.settings.min_movement)&&(t.current_y=t.current_y+t.vy,t.current_y>t.max_scroll_top?(t.vy=0,t.current_y=0):t.current_y<t.min_scroll_top&&(t.vy=0,t.current_y=t.min_scroll_top),t.container.scrollTop(-t.current_y),t.vy*=t.settings.friction,t.settings.on_render&&t.settings.on_render())}}(this),this.animate_loop=function(t){return function(){t.running&&(n.request_animation_frame(t.animate_loop),t.render())}}(this),this.on_wheel=function(t){return function(n){var e,i,o;n.preventDefault(),o=n.originalEvent,"DOMMouseScroll"===n.type&&null!=o.detail?e=-1*o.detail:null!=o.wheelDelta?e=o.wheelDelta.toFixed(2)/40:null!=o.deltaY&&(e=o.deltaY.toFixed(2)/-10),i=0>e?-1:1,i!==t.settings.direction&&(t.vy=0,t.settings.direction=i),t.current_y=-t.container.scrollTop(),t.update_scroll_target(e)}}(this),this.initialize()},n.request_animation_frame=function(t){return function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(t){n.setTimeout(t,1e3/60)}}}(this)(),i=function(t){return function(){var t,n,e;return t=[],n=null,e=30,function(i){var o,r,s;return 0===i?i:null!==n?i*n:(o=Math.abs(i),s=function(){var n;for(n=0;n<t.length;){if(o<=t[n]){t.splice(n,0,o),s();break}++n}t.push(o)},r=e/t[Math.floor(t.length/3)],500===t.length&&(n=r),i*r)}}}(this)(),t.fn.smoothscroll=function(n){return this.each(function(e,i){return t.data(i,"smoothscroll")?void 0:t.data(i,"smoothscroll",new t.smoothscroll(i,n))})}}(window.jQuery,window,document)}).call(this);