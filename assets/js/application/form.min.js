(function(){!function(t,e,s){"use strict";return t.form=function(e,s){this.settings={},this.settings.maxMessages=2,this.messages_sent=0,this.form=t(e),this.groups=t(".form-group",this.form),this.inputs=t("input, textarea",this.form),this.check={},this.action=this.form.attr("action"),this.method=this.form.attr("method"),null==this.method&&(this.method="POST"),this.send_button=t(".send-button"),this.success_message=t(".contact-success",this.form),this.show_success=function(t){return function(){t.send_button.removeClass("sending"),t.success_message.addClass("active"),setTimeout(function(){t.success_message.removeClass("active")},5e3)}}(this),this.error_message=t(".contact-error",this.form),this.show_error=function(t){return function(){t.send_button.removeClass("sending"),t.error_message.addClass("active"),setTimeout(function(){t.error_message.removeClass("active")},5e3)}}(this),t("[data-validate-captcha]",this.form).each(function(e){return function(e,s){var n,r,a,i,o,c,u;s=t(s),o=s.parent(),r=t("label",o),i=1,a=10,c=Math.floor(Math.random()*(a-i+1))+i,u=Math.floor(Math.random()*(a-i+1))+i,n=c+u,s.data("captcha",n),r.text(c+" + "+u+" = ?")}}(this)),this.groups.each(function(e){return function(e,s){var n,r;s=t(s),n=t("input, textarea",s),r=t("label",s),s.on("click",function(){n.focus()}),""!==n.val()&&r.addClass("active"),n.on("focusin",function(){s.removeClass("has-error"),r.addClass("active")}),n.on("focusout",function(){""===n.val()&&r.removeClass("active")})}}(this)),this.validate=function(e){return function(){var s;return s=!0,e.inputs.each(function(n,r){var a,i;a=!0,r=t(r),i=r.val(),t.each(e.check,function(t){a&&(a=e.check[t](r,i)),a||r.parent().addClass("has-error")}),s&&(s=a)}),s}}(this),this.get_attr=function(t){return function(t,e,s){var n;return n=t.attr("data-validate-"+e),null!=n?n:null!=s?s:void 0}}(this),this.check.email=function(t){return function(e,s){var n;return n=t.get_attr(e,"email"),null==n?!0:/[A-Z0-9._%+-]+\@[A-Z0-9.-]+\.[A-Z]+/i.test(s)}}(this),this.check["min-length"]=function(t){return function(e,s){var n;return n=t.get_attr(e,"min-length"),null==n?!0:s.length>parseInt(n)}}(this),this.check["max-length"]=function(t){return function(e,s){var n;return n=t.get_attr(e,"max-length"),null==n?!0:s.length<parseInt(n)}}(this),this.check.required=function(t){return function(e,s){var n;return n=t.get_attr(e,"required"),null==n?!0:""!==s}}(this),this.check.captcha=function(t){return function(e,s){var n;return n=t.get_attr(e,"captcha"),null==n?!0:/[0-9]+/.test(s)&&parseInt(s)===e.data("captcha")}}(this),this.form.submit(function(e){return function(s){var n,r;return r=e.validate(),r&&!e.send_button.hasClass("sending")&&(e.messages_sent+=1,e.messages_sent>e.settings.maxMessages?alert("You have already sent "+e.settings.maxMessages+" messages."):(e.send_button.addClass("sending"),n={},null!=e.action&&(n.url=e.action),n.type=e.method,n.data=e.form.serialize(),n.success=function(){e.show_success()},n.error=function(t){console.error(t),e.show_error()},t.ajax(n))),s.preventDefault(),!1}}(this))},t.fn.form=function(e){return this.each(function(s,n){return t.data(n,"form")?void 0:t.data(n,"form",new t.form(n,e))})}}(window.jQuery,window,document)}).call(this);