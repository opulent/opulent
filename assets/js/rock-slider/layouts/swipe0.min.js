(function(){!function(t,i,e){"use strict";t.fn.rockSlider.swipeLayout=function(){this.init=function(){var i;i={speed:700,overflow:0,highlight:!0,highlight_color:"rgba(0, 156, 255, 1)",animate_background:!1,threshold:25},this.settings.layout_settings=t.extend({},i,this.settings.layout_settings),this.element.addClass("rock-slider-swipe"),this.slides.wrap('<div class="rock-swipe-wrapper"></div>'),this.wrapped_slides=t(".rock-swipe-wrapper",this.element),this.left_highlight=t('<div class="rock-swipe-highlight left"></div>'),this.right_highlight=t('<div class="rock-swipe-highlight right"></div>'),t(".rock-outer").prepend(this.left_highlight),t(".rock-outer").prepend(this.right_highlight),t("html > head").append(t("<style data-rock-style-id='"+this.id+"'>"+("#"+this.id+" .rock-inner.animating { ")+("transition: transform "+this.settings.layout_settings.speed+"ms ease;")+("-o-transition: -o-transform "+this.settings.layout_settings.speed+"ms ease;")+("-moz-transition: -moz-transform "+this.settings.layout_settings.speed+"ms ease;")+("-webkit-transition: -webkit-transform "+this.settings.layout_settings.speed+"ms ease;")+" }</style>")),this.starting_position=0,this.element.attr("data-rock-swipe-position",0),this.touch_object.destroy(),this.touch_object=new Hammer(this.element[0]),this.touch_object.get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),this.starting_direction=void 0,this.touch_object.on("panstart pancancel panend panleft panright",function(t){return function(i){var e,s,h,n,a;if(e=i.deltaX,"panleft"===i.type||"panright"===i.type){if(s=0===t.current&&i.deltaX>0,h=t.current===t.slides_length-1&&i.deltaX<0,s||h){if(t.settings.layout_settings.highlight&&(s?t.left_highlight.css({"box-shadow":"0px 0px "+e+"px 0px "+t.settings.layout_settings.highlight_color,"-moz-box-shadow":"0px 0px "+e+"px 0px "+t.settings.layout_settings.highlight_color,"-webkit-box-shadow":"0px 0px "+e+"px 0px "+t.settings.layout_settings.highlight_color}):t.right_highlight.css({"box-shadow":"0px 0px "+-e+"px 0px "+t.settings.layout_settings.highlight_color,"-moz-box-shadow":"0px 0px "+-e+"px 0px "+t.settings.layout_settings.highlight_color,"-webkit-box-shadow":"0px 0px "+-e+"px 0px "+t.settings.layout_settings.highlight_color})),0===t.settings.layout_settings.overflow)return;e/=t.settings.layout_settings.overflow}(i.direction===Hammer.DIRECTION_LEFT||i.direction===Hammer.DIRECTION_RIGHT)&&(a="translate3d("+(t.starting_position+e)+"px, 0, 0)",t.inner.css({transform:a,"-o-transform":a,"-ms-transform":a,"-moz-transform":a,"-webkit-transform":a}))}else"panstart"!==i.type||t.inner.hasClass("animating")?"panend"===i.type&&(t.element.removeClass("rock-dragging"),t.settings.layout_settings.highlight&&(n={"box-shadow":"0px 0px 0px 0px "+t.settings.layout_settings.highlight_color,"-moz-box-shadow":"0px 0px 0px 0px "+t.settings.layout_settings.highlight_color,"-webkit-box-shadow":"0px 0px 0px 0px "+t.settings.layout_settings.highlight_color},t.left_highlight.addClass("animating").css(n),t.right_highlight.addClass("animating").css(n),setTimeout(function(){return t.left_highlight.removeClass("animating"),t.right_highlight.removeClass("animating")},700)),Math.abs(e)>t.settings.layout_settings.threshold/100*t.parent_width?i.direction===Hammer.DIRECTION_RIGHT?t.slide(t.current-1):i.direction===Hammer.DIRECTION_LEFT&&t.slide(t.current+1):(a="translate3d("+t.starting_position+"px, 0, 0)",t.inner.addClass("animating").css({transform:a,"-o-transform":a,"-ms-transform":a,"-moz-transform":a,"-webkit-transform":a}),setTimeout(function(){return t.inner.removeClass("animating")},t.settings.layout_settings.speed))):(t.element.addClass("rock-dragging"),t.starting_direction=i.direction);i.preventDefault()}}(this))},this.setup=function(){null!=this.cache&&(this.element.height(this.parent_height),this.element.width(this.parent_width),this.parent_height>this.element_height?(this.element_height=this.parent_height,this.element_width=this.element_height/this.settings.layout_settings.height*this.settings.layout_settings.width,this.inner.height(this.element_height),this.inner.width(this.parent_width*this.slides_length),this.wrapped_slides.height(this.element_height),this.wrapped_slides.width(this.parent_width)):(this.element_width=this.parent_width,this.element_height=this.element_width/this.settings.layout_settings.width*this.settings.layout_settings.height,this.inner.height(this.element_height),this.inner.width(this.element_width*this.slides_length),this.wrapped_slides.height(this.parent_height),this.wrapped_slides.width(this.element_width)),this.slides.height(this.element_height),this.slides.width(this.element_width),this.slides.each(function(i){return function(e,s){var h,n,a,r,o,g,l,d,p,c,_,m,w;a=t(s),i.visible_width=i.element_width,i.visible_height=i.visible_width/i.cache[e].background[0].width*i.cache[e].background[0].height,p=-(i.visible_width-i.parent_width)/2,c=-(i.visible_height-i.parent_height)/2,h=t(".rock-background-wrapper",a),h.css({"margin-top":c,"margin-left":p}),w=i.element_width/i.settings.layout_settings.width,d=i.element_height/i.settings.layout_settings.height,n=t(".rock-layer-wrapper",a),n.each(function(s,h){var n;n={},"top"in i.cache[e].layer[s].position?n.top=d*i.cache[e].layer[s].position.top+c:"bottom"in i.cache[e].layer[s].position&&(n.bottom=d*i.cache[e].layer[s].position.bottom-c),"left"in i.cache[e].layer[s].position?n.left=w*i.cache[e].layer[s].position.left+p:"right"in i.cache[e].layer[s].position&&(n.right=w*i.cache[e].layer[s].position.right-p),"width"in i.cache[e].layer[s]&&(n.width=w*i.cache[e].layer[s].width),"height"in i.cache[e].layer[s]&&(n.height=d*i.cache[e].layer[s].height),t(h).css(n)}),o=t(".rock-video-background",a),o.length>0&&(r=t(".video",o),l=parseInt(r.attr("data-rock-width")),g=parseInt(r.attr("data-rock-height")),m=i.element_width,_=m*g/l,p=-(m-i.parent_width)/2,c=-(_-i.parent_height)/2,r.css({width:m,height:_,"margin-left":p,"margin-top":c}))}}(this)))},this.slide=function(i,e){var s,h,n;return s=t(".rock-layer-wrapper",this.active),h=t(".rock-object",this.active),n="translate3d("+-this.parent_width*i+"px, 0, 0)",this.inner.addClass("animating").css({transform:n,"-o-transform":n,"-ms-transform":n,"-moz-transform":n,"-webkit-transform":n}),setTimeout(function(t){return function(){return t.inner.removeClass("animating")}}(this),this.settings.layout_settings.speed),this.starting_position=-this.parent_width*i}},t.rockSlider.add_layout("swipe",t.fn.rockSlider.swipeLayout)}(jQuery,window,document)}).call(this);