(function(){!function(t,e,s){"use strict";var i;return i={orientation:"vertical",mode:"default",overflow:!1,reset:!1,transform:{},transform_style:{opacity:"default",scale:"default"},parent:!1,source:!1,screen_size:{xs:0,sm:768,md:992,lg:1200,xlg:1840},disabled:{xs:[],sm:[],md:[],lg:[],xlg:[]}},t.visuallax=function(s,n){return this._defaults=i,this.settings=t.extend(!0,{},this._defaults,n),this.element=t(s),this.source=this.settings.source?this.settings.source:this.element,this.parent=this.settings.parent?this.settings.parent:this.source.parent(),this.window=t(e),this.image_resize_timeout=null,this.initialize=function(t){return function(){t.get_data(),t.set_size(),t.set_position(),t.set_responsive_context(),t.bind_resize(),t.bind_scroll(),t.parallax(t.window.scrollTop())}}(this),this.get_data=function(e){return function(){var s;s=e.element.attr("data-visuallax"),null!=s&&(s=s.split(/\,\s+/),t.each(s,function(s,i){var n;switch(i=t.trim(i),i=i.split(/\s+/),i=i.map(function(t){return"false"===t?!1:t.toLowerCase()}),i[0]){case"translate":case"move":"x"===i[1]||"y"===i[1]||"z"===i[1]?e.settings.transform["translate"+i[1].toUpperCase()]=parseFloat(i[2]):e.settings.transform.translateY=parseFloat(i[1]);break;case"rotate":"x"===i[1]||"y"===i[1]||"z"===i[1]?e.settings.transform["rotate"+i[1].toUpperCase()]=parseFloat(i[2]):e.settings.transform.rotateZ=parseFloat(i[1]);break;case"opacity":case"fade":n=1,("simple"===i[n]||"default"===i[n])&&(e.settings.transform_style.opacity=i[n++]),e.settings.transform.opacity=parseFloat(i[n]);break;case"scale":n=1,("simple"===i[n]||"default"===i[n])&&(e.settings.transform_style.scale=i[n++]),e.settings.transform.scale=parseFloat(i[n]);break;case"disabled":for(n=1;i[++n];)e.settings.disabled[i[1]].push(i[n]);break;default:n=0,e.settings[i[n++]]=i[n]}})),"translateZ"in e.settings.transform||(e.settings.transform.translateZ=0)}}(this),this.set_position=function(t){return function(){t.top=t.source.offset().top,t.bottom=t.top+t.source_height,t.left=t.source.offset().left,t.right=t.left+t.source_width,t.parent_top=t.parent.offset().top,t.parent_bottom=t.parent_top+t.parent_height,t.parent_left=t.parent.offset().left,t.parent_right=t.parent_left+t.parent_width}}(this),this.set_size=function(t){return function(){t.parent_width=t.parent.outerWidth(!0),t.parent_height=t.parent.outerHeight(!0),t.source_width=t.source.outerWidth(!0),t.source_height=t.source.outerHeight(!0),t.element_width=t.element.outerWidth(!0),t.element_height=t.element.outerHeight(!0),t.window_width=t.window.width(),t.window_height=t.window.height()}}(this),this.set_responsive_context=function(t){return function(){t.window_width>=t.settings.screen_size.xlg?t.current_responsive_size="xlg":t.window_width>=t.settings.screen_size.lg?t.current_responsive_size="lg":t.window_width>=t.settings.screen_size.md?t.current_responsive_size="md":t.window_width>=t.settings.screen_size.sm?t.current_responsive_size="sm":t.current_responsive_size="xs"}}(this),this.reset=function(e){return function(s){var i,n,r,o,a;if(o={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:1,opacity:1},"*"===s)for(a=i=0,r=o.length;r>i;a=++i)n=o[a],t.Velocity.hook(e.element,n,a);else t.Velocity.hook(e.element,s,o[s])}}(this),this.bind_resize=function(t){return function(){t.window.resize(function(){t.set_size(),t.set_position(),t.set_responsive_context(),t.parallax(t.window.scrollTop())})}}(this),this.bind_scroll=function(t){return function(){t.window.on("scroll",function(){t.parallax(t.window.scrollTop())})}}(this),this.parallax=function(e){return function(s){var i,n,r,o,a,l,u,c,h,f,d,p,_;if(i=s+e.window_height/2-(e.top+e.bottom)/2,n=s+e.window_height<e.top||s>e.bottom,r="to-middle"===e.settings.mode&&i>=0||"from-middle"===e.settings.mode&&0>=i,u=e.source_height<e.parent_height,p="translateY"in e.settings.transform?e.settings.transform.translateY*i:0,a=e.top+p>e.parent_top||e.bottom+p>e.parent_bottom,o=e.settings.overflow&&(u||a),n||r||o)return void(e.settings.reset&&e.reset("*"));l=e.settings.transform;for(c in l){if(_=l[c],-1!==t.inArray(c,e.settings.disabled[e.current_responsive_size]))return void e.reset(c);d=-1!==c.indexOf("translate")?"px":-1!==c.indexOf("rotate")?"deg":"",h=c in e.settings.transform_style?"default"===e.settings.transform_style[c]?1-Math.abs(i/100*e.settings.transform[c]):1-i/100*e.settings.transform[c]:i*_,f=""+h+d,t.Velocity.hook(e.element,c,f)}}}(this),this.initialize()},t.fn.visuallax=function(e){return this.each(function(s,i){return t.data(i,"visuallax")?void 0:t.data(i,"visuallax",new t.visuallax(i,e))})}}(window.jQuery,window,document)}).call(this);