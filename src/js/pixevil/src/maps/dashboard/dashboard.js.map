{"version":3,"sources":["dashboard/dashboard.coffee"],"names":[],"mappings":"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","file":"dashboard/dashboard.js","sourceRoot":"/source/","sourcesContent":["$(document).ready ->\n  set_content_height = ->\n    $('#content > .container-fluid').css('min-height', $(window).height() - 105)\n    return\n  set_content_height()\n\n  $(window).resize set_content_height\n\n  startTime = ->\n    today = new Date()\n    h = today.getHours()\n    m = today.getMinutes()\n    s = today.getSeconds()\n\n    if h < 10 then h = \"0#{h}\"\n    if m < 10 then m = \"0#{m}\"\n    if s < 10 then s = \"0#{s}\"\n\n    $('.current-time-hours').text h\n    $('.current-time-minutes').text m\n    $('.current-time-seconds').text s\n\n    t = setTimeout ->\n      startTime()\n    , 500\n\n    return\n  startTime()\n\n  image_input = $('input.image-viewer-input')\n  if image_input.length > 0\n    image_input_form = image_input.parent()\n    image_input.on 'change', ->\n      image_input_form.ajaxSubmit\n        success: (responseText, statusText, xhr, $form) ->\n          response = responseText.split(', ')\n          item_id = response[0]\n          original_path = response[1]\n          response_path = response[2]\n\n          new_item_html = '<div class=\"image-viewer-item\" data-image-original=\"' + original_path + '\" data-image-id=\"' + item_id + '\" href=\"javascript:void(0)\">'\n\n          new_item_html += '<form action=\"/dashboard/delete/image/' + item_id + '\" method=\"POST\">'\n          new_item_html += '<a class=\"image-viewer-item-delete\" href=\"javascript:void(0);\">'\n          new_item_html += '<i class=\"fa fa-times-circle\"></i>'\n          new_item_html += '</a>'\n          new_item_html += '</form>'\n\n          new_item_html += '<div class=\"image-viewer-item-hover\">'\n          new_item_html += '<a class=\"image-viewer-item-insert\" href=\"javascript:void(0);\">'\n          new_item_html += '<i class=\"fa fa-arrow-circle-down\"></i>'\n          new_item_html += '</a>'\n          new_item_html += '</div>'\n\n          new_item_html += '<img src=\"' + response_path + '\">'\n\n          new_item_html += '</div>'\n\n          $('.image-viewer-items').append new_item_html\n          return\n      return\n\n  $('#dashboard-collapse').on 'show.bs.collapse', ->\n    setTimeout ->\n      $('#dashboard-profile').addClass('open')\n    , 1\n    return\n\n  get_day_names = (n) ->\n    day_names = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']\n    days = []\n\n    i = (new Date()).getDay()\n    n += i\n\n    while i != n\n      days.push day_names[i % 7]\n      i += 1\n\n    return days\n\n  plot_daily_views = (n) ->\n    $.ajax\n      url: \"/analytics/views/#{n}\"\n      method: 'GET'\n      complete: (data) =>\n        daily_views_chart_data =\n          labels: get_day_names(n)\n          datasets: [\n            {\n                label: \"My First dataset\"\n                fillColor: \"rgba(220,220,220,0.2)\"\n                strokeColor: \"rgba(220,220,220,1)\"\n                pointColor: \"rgba(220,220,220,1)\"\n                pointStrokeColor: \"#fff\"\n                pointHighlightFill: \"#fff\"\n                pointHighlightStroke: \"rgba(220,220,220,1)\"\n                data: data.responseJSON\n            }\n          ]\n        daily_views_chart_element = $(\"#daily-views-chart\")[0].getContext '2d'\n        daily_views_chart = new Chart(daily_views_chart_element).Line daily_views_chart_data,\n          responsive: true\n          scaleFontColor: \"rgba(255, 255, 255, 0.75)\"\n          pointDotRadius: 10\n        return\n    return\n\n  if $('.chart').length > 0\n    plot_daily_views 7\n\n  # Set inactive heading input\n  $('.page-heading-input').each (index, element) ->\n    parent = $(element).closest '.row'\n    helper = $('.page-subheading', parent)\n\n    $(element).on 'change', ->\n      if $(element).val() == ''\n        $(element).addClass 'inactive'\n        helper.velocity opacity: 1\n      else\n        $(element).removeClass 'inactive'\n        helper.velocity opacity: 0\n      return\n    return\n\n  $('#post-title').on 'change keyup', ->\n    slug = $('#post-title').val().trim().toLowerCase().replace(/[^a-zA-Z0-9\\s\\_\\-]/g, '').replace /([\\s\\_\\-]+)/g, '-'\n    $('#post-slug').val slug\n    return\n\n\n  return\n"]}