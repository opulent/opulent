{"version":3,"sources":["features/retina.coffee"],"names":[],"mappings":"AAAA;EAAA,CAAC,SAAC,CAAD,EAAI,MAAJ,EAAY,QAAZ;IACC;IAEA,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,MAAhB,GAAyB,SAAA;MAIvB,IAAC,CAAA,UAAD,GAAc,SAAA;AACZ,YAAA;QAAA,MAAA,GAAS;QACT,IAAA,8EAAmB;UAAA,MAAA,EAAS,OAAT;;QACnB,UAAA,GAAa;QAEb,IAAG,IAAI,CAAC,gBAAL,GAAwB,CAA3B;UACI,MAAA,GAAS,KADb;;QAGA,IAAG,IAAI,CAAC,UAAL,IAAmB,IAAI,CAAC,UAAL,CAAgB,UAAhB,CAA2B,CAAC,OAAlD;UACI,MAAA,GAAS,KADb;;QAGA,IAAG,MAAH;UACE,IAAC,CAAA,GAAD,CAAK,mCAAL;UAEA,CAAA,CAAE,qBAAF,EAAyB,MAAzB,CAAgC,CAAC,IAAjC,CAAsC,CAAA,SAAA,KAAA;mBAAA,SAAC,KAAD,EAAQ,OAAR;AACpC,kBAAA;cAAA,GAAA,GAAM,CAAA,CAAE,OAAF;cACN,GAAA,GAAM,GAAG,CAAC,IAAJ,CAAS,eAAT;cACN,UAAA,GAAa,GAAG,CAAC,IAAJ,CAAS,gBAAT;cAEb,IAAG,UAAA,KAAc,MAAjB;gBACE,GAAA,GAAM,GAAG,CAAC,OAAJ,CAAY,eAAZ,EAA6B,OAA7B,EADR;eAAA,MAAA;gBAGE,GAAA,GAAM,WAHR;;cAKA,KAAC,CAAA,GAAD,CAAK,kCAAA,GAAmC,GAAnC,GAAuC,KAA5C;cAEA,GAAG,CAAC,IAAJ,CAAS,eAAT,EAA0B,GAA1B;YAZoC;UAAA,CAAA,CAAA,CAAA,IAAA,CAAtC,EAHF;SAAA,MAAA;UAkBE,IAAC,CAAA,GAAD,CAAK,4CAAL,EAlBF;;MAXY;IAJS;WAwCzB,CAAC,CAAC,UAAU,CAAC,gBAAb,CAA8B,QAA9B,EAAwC,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,MAAxD;EA3CD,CAAD,CAAA,CA6CE,MAAM,CAAC,MA7CT,EA6CiB,MA7CjB,EA6CyB,QA7CzB;AAAA","file":"features/pixevil.retina.js","sourceRoot":"/source/","sourcesContent":["(($, window, document) ->\n  \"use strict\"\n\n  $.fn.rockSlider.retina = ->\n    # Check if current screen is retina. If yes, replace images with their larger\n    # versions using the data-rock-at2x attribute\n    #\n    @initialize = ->\n      retina = false\n      root = (exports? ? window : exports)\n      mediaQuery = '(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)';\n\n      if root.devicePixelRatio > 1\n          retina = true\n\n      if root.matchMedia && root.matchMedia(mediaQuery).matches\n          retina = true\n\n      if retina\n        @log \"This device has a retina display.\"\n\n        $('img[data-rock-at2x]', $slide).each (index, element) =>\n          img = $(element)\n          src = img.attr('data-rock-src')\n          retina_src = img.attr 'data-rock-at2x'\n\n          if retina_src == \"true\"\n            src = src.replace /(\\.[\\w\\?=]+)$/, \"@2x$1\"\n          else\n            src = retina_src\n\n          @log \"Found a Retina image with src=\\\"#{src}\\\".\"\n\n          img.attr 'data-rock-src', src\n          return\n      else\n        @log \"This device doesn't have a Retina display.\"\n      return\n\n    return\n\n  # Add the feature to RockSlider as a new instance\n  #\n  $.rockSlider.register_feature 'retina', $.fn.rockSlider.retina\n\n) window.jQuery, window, document\n"]}