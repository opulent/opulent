{"version":3,"sources":["nanoscroller/nanoscroller.coffee"],"names":[],"mappings":"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","file":"nanoscroller/nanoscroller.js","sourceRoot":"/source/","sourcesContent":["#  @project nanoScrollerJS\n#  @url http://jamesflorentino.github.com/nanoScrollerJS/\n#  @author James Florentino\n#  @contributor Krister Kari\n\n((factory) ->\n  if typeof define is 'function' and define.amd\n    # AMD\n    define [\n      'jquery'\n    ], ($) ->\n      factory($, window, document)\n  else if typeof exports is 'object'\n    # Node/CommonJS\n    module.exports = factory(require('jquery'), window, document)\n  else\n    # Browser globals\n    factory(jQuery, window, document)\n) ($, window, document) ->\n  \"use strict\"\n\n  # Default settings\n\n  defaults =\n    ###*\n      a classname for the pane element.\n      @property paneClass\n      @type String\n      @default 'nano-pane'\n    ###\n    paneClass: 'nano-pane'\n\n    ###*\n      a classname for the slider element.\n      @property sliderClass\n      @type String\n      @default 'nano-slider'\n    ###\n    sliderClass: 'nano-slider'\n\n    ###*\n      a classname for the content element.\n      @property contentClass\n      @type String\n      @default 'nano-content'\n    ###\n    contentClass: 'nano-content'\n\n    ###*\n      a setting to enable native scrolling in iOS devices.\n      @property iOSNativeScrolling\n      @type Boolean\n      @default false\n    ###\n    iOSNativeScrolling: false\n\n    ###*\n      a setting to prevent the rest of the page being\n      scrolled when user scrolls the `.content` element.\n      @property preventPageScrolling\n      @type Boolean\n      @default false\n    ###\n    preventPageScrolling: false\n\n    ###*\n      a setting to disable binding to the resize event.\n      @property disableResize\n      @type Boolean\n      @default false\n    ###\n    disableResize: false\n\n    ###*\n      a setting to make the scrollbar always visible.\n      @property alwaysVisible\n      @type Boolean\n      @default false\n    ###\n    alwaysVisible: false\n\n    ###*\n      a default timeout for the `flash()` method.\n      @property flashDelay\n      @type Number\n      @default 1500\n    ###\n    flashDelay: 1500\n\n    ###*\n      a minimum height for the `.slider` element.\n      @property sliderMinHeight\n      @type Number\n      @default 20\n    ###\n    sliderMinHeight: 20\n\n    ###*\n      a maximum height for the `.slider` element.\n      @property sliderMaxHeight\n      @type Number\n      @default null\n    ###\n    sliderMaxHeight: null\n\n    ###*\n      an alternate document context.\n      @property documentContext\n      @type Document\n      @default null\n    ###\n    documentContext: null\n\n    ###*\n      an alternate window context.\n      @property windowContext\n      @type Window\n      @default null\n    ###\n    windowContext: null\n\n  # Constants\n\n  ###*\n    @property SCROLLBAR\n    @type String\n    @static\n    @final\n    @private\n  ###\n  SCROLLBAR = 'scrollbar'\n\n  ###*\n    @property SCROLL\n    @type String\n    @static\n    @final\n    @private\n  ###\n  SCROLL = 'scroll'\n\n  ###*\n    @property MOUSEDOWN\n    @type String\n    @final\n    @private\n  ###\n  MOUSEDOWN = 'mousedown'\n\n  ###*\n    @property MOUSEENTER\n    @type String\n    @final\n    @private\n  ###\n  MOUSEENTER = 'mouseenter'\n\n  ###*\n    @property MOUSEMOVE\n    @type String\n    @static\n    @final\n    @private\n  ###\n  MOUSEMOVE = 'mousemove'\n\n  ###*\n    @property MOUSEWHEEL\n    @type String\n    @final\n    @private\n  ###\n  MOUSEWHEEL = 'mousewheel'\n\n  ###*\n    @property MOUSEUP\n    @type String\n    @static\n    @final\n    @private\n  ###\n  MOUSEUP = 'mouseup'\n\n  ###*\n    @property RESIZE\n    @type String\n    @final\n    @private\n  ###\n  RESIZE = 'resize'\n\n  ###*\n    @property DRAG\n    @type String\n    @static\n    @final\n    @private\n  ###\n  DRAG = 'drag'\n\n  ###*\n    @property ENTER\n    @type String\n    @static\n    @final\n    @private\n  ###\n  ENTER = 'enter'\n\n  ###*\n    @property UP\n    @type String\n    @static\n    @final\n    @private\n  ###\n  UP = 'up'\n\n  ###*\n    @property PANEDOWN\n    @type String\n    @static\n    @final\n    @private\n  ###\n  PANEDOWN = 'panedown'\n\n  ###*\n    @property DOMSCROLL\n    @type String\n    @static\n    @final\n    @private\n  ###\n  DOMSCROLL  = 'DOMMouseScroll'\n\n  ###*\n    @property DOWN\n    @type String\n    @static\n    @final\n    @private\n  ###\n  DOWN = 'down'\n\n  ###*\n    @property WHEEL\n    @type String\n    @static\n    @final\n    @private\n  ###\n  WHEEL = 'wheel'\n\n  ###*\n    @property KEYDOWN\n    @type String\n    @static\n    @final\n    @private\n  ###\n  KEYDOWN    = 'keydown'\n\n  ###*\n    @property KEYUP\n    @type String\n    @static\n    @final\n    @private\n  ###\n  KEYUP = 'keyup'\n\n  ###*\n    @property TOUCHMOVE\n    @type String\n    @static\n    @final\n    @private\n  ###\n  TOUCHMOVE = 'touchmove'\n\n  ###*\n    @property BROWSER_IS_IE7\n    @type Boolean\n    @static\n    @final\n    @private\n  ###\n  BROWSER_IS_IE7 = window.navigator.appName is 'Microsoft Internet Explorer' and (/msie 7./i).test(window.navigator.appVersion) and window.ActiveXObject\n\n  ###*\n    @property BROWSER_SCROLLBAR_WIDTH\n    @type Number\n    @static\n    @default null\n    @private\n  ###\n  BROWSER_SCROLLBAR_WIDTH = null\n\n  rAF = window.requestAnimationFrame\n  cAF = window.cancelAnimationFrame\n\n  # this transform stuff is from iScroll.\n  # all credit goes to @cubiq\n  _elementStyle = document.createElement('div').style\n\n  _vendor = do ->\n    vendors = ['t', 'webkitT', 'MozT', 'msT', 'OT']\n    for vendor, i in vendors\n      transform = vendors[i] + 'ransform';\n      if transform of _elementStyle\n        return vendors[i].substr(0, vendors[i].length - 1)\n    return false\n\n  _prefixStyle = (style) ->\n    return false if _vendor is false\n    return style if _vendor is ''\n    return _vendor + style.charAt(0).toUpperCase() + style.substr(1)\n\n  transform = _prefixStyle('transform')\n\n  hasTransform = transform isnt false\n\n  ###*\n    Returns browser's native scrollbar width\n    @method getBrowserScrollbarWidth\n    @return {Number} the scrollbar width in pixels\n    @static\n    @private\n  ###\n  getBrowserScrollbarWidth = ->\n    outer = document.createElement 'div'\n    outerStyle = outer.style\n    outerStyle.position = 'absolute'\n    outerStyle.width = '100px'\n    outerStyle.height = '100px'\n    outerStyle.overflow = SCROLL\n    outerStyle.top = '-9999px'\n    document.body.appendChild outer\n    scrollbarWidth = outer.offsetWidth - outer.clientWidth\n    document.body.removeChild outer\n    scrollbarWidth\n\n  isFFWithBuggyScrollbar = ->\n    ua = window.navigator.userAgent\n    isOSXFF = /(?=.+Mac OS X)(?=.+Firefox)/.test(ua)\n    return false if not isOSXFF\n    version = /Firefox\\/\\d{2}\\./.exec(ua)\n    version = version[0].replace(/\\D+/g, '') if version\n    return isOSXFF and +version > 23\n\n  ###*\n    @class NanoScroll\n    @param element {HTMLElement|Node} the main element\n    @param options {Object} nanoScroller's options\n    @constructor\n  ###\n  class NanoScroll\n    constructor: (@el, @options) ->\n      BROWSER_SCROLLBAR_WIDTH or= do getBrowserScrollbarWidth\n      @$el = $ @el\n      @doc = $ @options.documentContext or document\n      @win = $ @options.windowContext or window\n      @body= @doc.find 'body'\n      @$content = @$el.children(\".#{@options.contentClass}\")\n      @$content.attr 'tabindex', @options.tabIndex or 0\n      @content = @$content[0]\n\n      @previousPosition = 0\n\n      if @options.iOSNativeScrolling && @el.style.WebkitOverflowScrolling?\n        do @nativeScrolling\n      else\n        do @generate\n      do @createEvents\n      do @addEvents\n      do @reset\n\n    ###*\n      Prevents the rest of the page being scrolled\n      when user scrolls the `.nano-content` element.\n      @method preventScrolling\n      @param event {Event}\n      @param direction {String} Scroll direction (up or down)\n      @private\n    ###\n    preventScrolling: (e, direction) ->\n      return unless @isActive\n      if e.type is DOMSCROLL # Gecko\n        if direction is DOWN and e.originalEvent.detail > 0 or direction is UP and e.originalEvent.detail < 0\n          do e.preventDefault\n      else if e.type is MOUSEWHEEL # WebKit, Trident and Presto\n        return if not e.originalEvent or not e.originalEvent.wheelDelta\n        if direction is DOWN and e.originalEvent.wheelDelta < 0 or direction is UP and e.originalEvent.wheelDelta > 0\n          do e.preventDefault\n      return\n\n    ###*\n      Enable iOS native scrolling\n      @method nativeScrolling\n      @private\n    ####\n    nativeScrolling: ->\n      # simply enable container\n      @$content.css {WebkitOverflowScrolling: 'touch'}\n      @iOSNativeScrolling = true\n      # we are always active\n      @isActive = true\n      return\n\n    ###*\n      Updates those nanoScroller properties that\n      are related to current scrollbar position.\n      @method updateScrollValues\n      @private\n    ###\n    updateScrollValues: ->\n      content = @content\n      # Formula/ratio\n      # `scrollTop / maxScrollTop = sliderTop / maxSliderTop`\n      @maxScrollTop = content.scrollHeight - content.clientHeight\n      @prevScrollTop = @contentScrollTop or 0\n      @contentScrollTop = content.scrollTop\n\n      direction = if @contentScrollTop > @previousPosition\n                    \"down\"\n                  else\n                    if @contentScrollTop < @previousPosition\n                      \"up\"\n                    else\n                      \"same\"\n      @previousPosition = @contentScrollTop\n\n      @$el.trigger 'update', { position: @contentScrollTop, maximum: @maxScrollTop, direction: direction} unless direction == \"same\"\n\n      if not @iOSNativeScrolling\n        @maxSliderTop = @paneHeight - @sliderHeight\n        # `sliderTop = scrollTop / maxScrollTop * maxSliderTop\n        @sliderTop = if @maxScrollTop is 0 then 0 else @contentScrollTop * @maxSliderTop / @maxScrollTop\n      return\n\n    ###*\n      Updates CSS styles for current scroll position.\n      Uses CSS 2d transfroms and `window.requestAnimationFrame` if available.\n      @method setOnScrollStyles\n      @private\n    ###\n    setOnScrollStyles: ->\n      if hasTransform\n        cssValue = {}\n        cssValue[transform] = \"translate(0, #{@sliderTop}px)\"\n      else\n        cssValue = top: @sliderTop\n\n      if rAF\n        cAF(@scrollRAF) if cAF and @scrollRAF\n        @scrollRAF = rAF =>\n          @scrollRAF = null\n          @slider.css cssValue\n      else\n        @slider.css cssValue\n      return\n\n    ###*\n      Creates event related methods\n      @method createEvents\n      @private\n    ###\n    createEvents: ->\n      @events =\n        down: (e) =>\n          @isBeingDragged  = true\n          @offsetY = e.pageY - @slider.offset().top\n          @offsetY = 0 unless @slider.is e.target\n          @pane.addClass 'active'\n          @doc\n            .bind(MOUSEMOVE, @events[DRAG])\n            .bind(MOUSEUP, @events[UP])\n\n          @body.bind(MOUSEENTER, @events[ENTER])\n          false\n\n        drag: (e) =>\n          @sliderY = e.pageY - @$el.offset().top - @paneTop - (@offsetY or @sliderHeight * 0.5)\n          do @scroll\n          if @contentScrollTop >= @maxScrollTop and @prevScrollTop isnt @maxScrollTop\n            @$el.trigger 'scrollend'\n          else if @contentScrollTop is 0 and @prevScrollTop isnt 0\n            @$el.trigger 'scrolltop'\n          false\n\n        up: (e) =>\n          @isBeingDragged = false\n          @pane.removeClass 'active'\n          @doc\n            .unbind(MOUSEMOVE, @events[DRAG])\n            .unbind(MOUSEUP, @events[UP])\n\n          @body.unbind(MOUSEENTER, @events[ENTER])\n          false\n\n        resize: (e) =>\n          do @reset\n          return\n\n        panedown: (e) =>\n          @sliderY = (e.offsetY or e.originalEvent.layerY) - (@sliderHeight * 0.5)\n          do @scroll\n          @events.down e\n          false\n\n        scroll: (e) =>\n          do @updateScrollValues\n          # Don't operate if there is a dragging mechanism going on.\n          # This is invoked when a user presses and moves the slider or pane\n          return if @isBeingDragged\n          if not @iOSNativeScrolling\n            # update the slider position\n            @sliderY = @sliderTop\n            do @setOnScrollStyles\n\n          # the succeeding code should be ignored if @events.scroll() wasn't\n          # invoked by a DOM event. (refer to @reset)\n          return unless e?\n          # if it reaches the maximum and minimum scrolling point,\n          # we dispatch an event.\n          if @contentScrollTop >= @maxScrollTop\n            @preventScrolling(e, DOWN) if @options.preventPageScrolling\n            @$el.trigger 'scrollend' if @prevScrollTop isnt @maxScrollTop\n          else if @contentScrollTop is 0\n            @preventScrolling(e, UP) if @options.preventPageScrolling\n            @$el.trigger 'scrolltop' if @prevScrollTop isnt 0\n          return\n\n        wheel: (e) =>\n          return unless e?\n          delta = e.delta or e.wheelDelta or (e.originalEvent and e.originalEvent.wheelDelta) or -e.detail or (e.originalEvent and -e.originalEvent.detail)\n          @sliderY += -delta / 3 if delta\n          do @scroll\n          false\n\n        enter: (e) =>\n          return unless @isBeingDragged\n          @events[UP] arguments... if (e.buttons or e.which) isnt 1\n\n      return\n\n    ###*\n      Adds event listeners with jQuery.\n      @method addEvents\n      @private\n    ###\n    addEvents: ->\n      do @removeEvents\n      events = @events\n      if not @options.disableResize\n        @win\n          .bind RESIZE, events[RESIZE]\n      if not @iOSNativeScrolling\n        @slider\n          .bind MOUSEDOWN, events[DOWN]\n        @pane\n          .bind(MOUSEDOWN, events[PANEDOWN])\n          .bind(\"#{MOUSEWHEEL} #{DOMSCROLL}\", events[WHEEL])\n      @$content\n        .bind(\"#{SCROLL} #{MOUSEWHEEL} #{DOMSCROLL} #{TOUCHMOVE}\", events[WHEEL])\n      return\n\n    ###*\n      Removes event listeners with jQuery.\n      @method removeEvents\n      @private\n    ###\n    removeEvents: ->\n      events = @events\n      @win\n        .unbind(RESIZE, events[RESIZE])\n      if not @iOSNativeScrolling\n        do @slider.unbind\n        do @pane.unbind\n      @$content\n        .unbind(\"#{SCROLL} #{MOUSEWHEEL} #{DOMSCROLL} #{TOUCHMOVE}\", events[SCROLL])\n      return\n\n    ###*\n      Generates nanoScroller's scrollbar and elements for it.\n      @method generate\n      @chainable\n      @private\n    ###\n    generate: ->\n      # For reference:\n      # http://msdn.microsoft.com/en-us/library/windows/desktop/bb787527(v=vs.85).aspx#parts_of_scroll_bar\n      options = @options\n      {paneClass, sliderClass, contentClass} = options\n      if not (pane = @$el.children(\".#{paneClass}\")).length and not pane.children(\".#{sliderClass}\").length\n        @$el.append \"\"\"<div class=\"#{paneClass}\"><div class=\"#{sliderClass}\" /></div>\"\"\"\n\n      # pane is the name for the actual scrollbar.\n      @pane = @$el.children \".#{paneClass}\"\n\n      # slider is the name for the  scrollbox or thumb of the scrollbar gadget\n      @slider = @pane.find \".#{sliderClass}\"\n\n      if BROWSER_SCROLLBAR_WIDTH is 0 and do isFFWithBuggyScrollbar\n        currentPadding = window.getComputedStyle(@content,null).getPropertyValue('padding-right').replace(/[^0-9.]+/g, '')\n        cssRule =\n          right: -14\n          paddingRight: +currentPadding + 14\n      else if BROWSER_SCROLLBAR_WIDTH\n        cssRule = right: -BROWSER_SCROLLBAR_WIDTH\n        @$el.addClass 'has-scrollbar'\n\n      @$content.css cssRule if cssRule?\n\n      this\n\n    ###*\n      @method restore\n      @private\n    ###\n    restore: ->\n      @stopped = false\n      do @pane.show if not @iOSNativeScrolling\n      do @addEvents\n      return\n\n    ###*\n      Resets nanoScroller's scrollbar.\n      @method reset\n      @chainable\n      @example\n          $(\".nano\").nanoScroller();\n    ###\n    reset: ->\n      if @iOSNativeScrolling\n        @contentHeight = @content.scrollHeight\n        return\n      @generate().stop() if not @$el.find(\".#{@options.paneClass}\").length\n      do @restore if @stopped\n      content = @content\n      contentStyle = content.style\n      contentStyleOverflowY = contentStyle.overflowY\n\n      # try to detect IE7 and IE7 compatibility mode.\n      # this sniffing is done to fix a IE7 related bug.\n      @$content.css height: do @$content.height if BROWSER_IS_IE7\n\n      # set the scrollbar UI's height\n      # the target content\n      contentHeight = content.scrollHeight + BROWSER_SCROLLBAR_WIDTH\n\n      # Handle using max-height on the parent @$el and not\n      # setting the height explicitly\n      parentMaxHeight = parseInt(@$el.css(\"max-height\"), 10)\n      if parentMaxHeight > 0\n        @$el.height(\"\")\n        @$el.height(if content.scrollHeight > parentMaxHeight then parentMaxHeight else content.scrollHeight)\n\n      # set the pane's height.\n      paneHeight = @pane.outerHeight(false)\n      paneTop = parseInt @pane.css('top'), 10\n      paneBottom = parseInt @pane.css('bottom'), 10\n      paneOuterHeight = paneHeight + paneTop + paneBottom\n\n      # set the slider's height\n      sliderHeight = Math.round paneOuterHeight / contentHeight * paneHeight\n      if sliderHeight < @options.sliderMinHeight\n        sliderHeight = @options.sliderMinHeight # set min height\n      else if @options.sliderMaxHeight? and sliderHeight > @options.sliderMaxHeight\n        sliderHeight = @options.sliderMaxHeight # set max height\n      sliderHeight += BROWSER_SCROLLBAR_WIDTH if contentStyleOverflowY is SCROLL and contentStyle.overflowX isnt SCROLL\n\n      # the maximum top value for the slider\n      @maxSliderTop = paneOuterHeight - sliderHeight\n\n      # set into properties for further use\n      @contentHeight = contentHeight\n      @paneHeight = paneHeight\n      @paneOuterHeight = paneOuterHeight\n      @sliderHeight = sliderHeight\n      @paneTop = paneTop\n\n      # set the values to the gadget\n      @slider.height sliderHeight\n\n      # scroll sets the position of the @slider\n      do @events.scroll\n\n      do @pane.show\n      @isActive = true\n      if (content.scrollHeight is content.clientHeight) or (\n          @pane.outerHeight(true) >= content.scrollHeight and contentStyleOverflowY isnt SCROLL)\n        do @pane.hide\n        @isActive = false\n      else if @el.clientHeight is content.scrollHeight and contentStyleOverflowY is SCROLL\n        do @slider.hide\n      else\n        do @slider.show\n\n      # allow the pane element to stay visible\n      @pane.css\n        opacity: (if @options.alwaysVisible then 1 else '')\n        visibility: (if @options.alwaysVisible then 'visible' else '')\n\n      contentPosition = @$content.css('position')\n\n      if contentPosition is 'static' or contentPosition is 'relative'\n        right = parseInt(@$content.css('right'), 10)\n\n        if right\n          @$content.css\n            right: ''\n            marginRight: right\n\n      this\n\n    ###*\n      @method scroll\n      @private\n      @example\n          $(\".nano\").nanoScroller({ scroll: 'top' });\n    ###\n    scroll: ->\n      return unless @isActive\n      @sliderY = Math.max 0, @sliderY\n      @sliderY = Math.min @maxSliderTop, @sliderY\n      @$content.scrollTop @maxScrollTop * @sliderY / @maxSliderTop\n      if not @iOSNativeScrolling\n        do @updateScrollValues\n        do @setOnScrollStyles\n      this\n\n    ###*\n      Scroll at the bottom with an offset value\n      @method scrollBottom\n      @param offsetY {Number}\n      @chainable\n      @example\n          $(\".nano\").nanoScroller({ scrollBottom: value });\n    ###\n    scrollBottom: (offsetY) ->\n      return unless @isActive\n      @$content.scrollTop(@contentHeight - @$content.height() - offsetY).trigger(MOUSEWHEEL) # Update scrollbar position by triggering one of the scroll events\n      @stop().restore()\n      this\n\n    ###*\n      Scroll at the top with an offset value\n      @method scrollTop\n      @param offsetY {Number}\n      @chainable\n      @example\n          $(\".nano\").nanoScroller({ scrollTop: value });\n    ###\n    scrollTop: (offsetY) ->\n      return unless @isActive\n      @$content.scrollTop(+offsetY).trigger(MOUSEWHEEL) # Update scrollbar position by triggering one of the scroll events\n      @stop().restore()\n      this\n\n    ###*\n      Scroll to an element\n      @method scrollTo\n      @param node {Node} A node to scroll to.\n      @chainable\n      @example\n          $(\".nano\").nanoScroller({ scrollTo: $('#a_node') });\n    ###\n    scrollTo: (node) ->\n      return unless @isActive\n      @scrollTop @$el.find(node).get(0).offsetTop\n      this\n\n    ###*\n      To stop the operation.\n      This option will tell the plugin to disable all event bindings and hide the gadget scrollbar from the UI.\n      @method stop\n      @chainable\n      @example\n          $(\".nano\").nanoScroller({ stop: true });\n    ###\n    stop: ->\n      if cAF and @scrollRAF\n        cAF(@scrollRAF)\n        @scrollRAF = null\n      @stopped = true\n      do @removeEvents\n      do @pane.hide if not @iOSNativeScrolling\n      this\n\n    ###*\n      Destroys nanoScroller and restores browser's native scrollbar.\n      @method destroy\n      @chainable\n      @example\n          $(\".nano\").nanoScroller({ destroy: true });\n    ###\n    destroy: ->\n      do @stop if not @stopped\n      do @pane.remove if not @iOSNativeScrolling and @pane.length\n      @$content.height '' if BROWSER_IS_IE7\n      @$content.removeAttr 'tabindex'\n      if @$el.hasClass('has-scrollbar')\n        @$el.removeClass('has-scrollbar')\n        @$content.css right: ''\n      this\n\n    ###*\n      To flash the scrollbar gadget for an amount of time defined in plugin settings (defaults to 1,5s).\n      Useful if you want to show the user (e.g. on pageload) that there is more content waiting for him.\n      @method flash\n      @chainable\n      @example\n          $(\".nano\").nanoScroller({ flash: true });\n    ###\n    flash: ->\n      return if @iOSNativeScrolling\n      return unless @isActive\n      do @reset\n      @pane.addClass 'flashed'\n      setTimeout =>\n        @pane.removeClass 'flashed'\n        return\n      , @options.flashDelay\n      this\n\n  $.fn.nanoScroller = (settings) ->\n    @each ->\n      if not scrollbar = @nanoscroller\n        options = $.extend {}, defaults, settings\n        @nanoscroller = scrollbar = new NanoScroll this, options\n\n      # scrollbar settings\n      if settings and typeof settings is \"object\"\n        $.extend scrollbar.options, settings # update scrollbar settings\n        return scrollbar.scrollBottom settings.scrollBottom if settings.scrollBottom?\n        return scrollbar.scrollTop settings.scrollTop if settings.scrollTop?\n        return scrollbar.scrollTo settings.scrollTo if settings.scrollTo\n        return scrollbar.scrollBottom 0 if settings.scroll is 'bottom'\n        return scrollbar.scrollTop 0 if settings.scroll is 'top'\n        return scrollbar.scrollTo settings.scroll if settings.scroll and settings.scroll instanceof $\n        return do scrollbar.stop if settings.stop\n        return do scrollbar.destroy if settings.destroy\n        return do scrollbar.flash if settings.flash\n\n      do scrollbar.reset\n\n  $.fn.nanoScroller.Constructor = NanoScroll\n  return\n"]}