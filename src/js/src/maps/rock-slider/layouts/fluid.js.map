{"version":3,"sources":["rock-slider/layouts/fluid.coffee"],"names":[],"mappings":"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","file":"rock-slider/layouts/fluid.js","sourceRoot":"/source/","sourcesContent":["###\n\n         dP oo       dP\n         88          88\n.d8888b. 88 dP .d888b88 .d8888b. .d8888b.\nY8ooooo. 88 88 88'  `88 88ooood8 88'  `88\n      88 88 88 88.  .88 88.  ... 88.  .88\n`88888P' dP dP `88888P8 `88888P' `88888P8\noooooooooooooooooooooooooooooooooooooooooo\n\n@plugin    jQuery\n@license   CodeCanyon Standard / Extended\n@author    Alex Grozav\n@company   Pixevil\n@website   http://pixevil.com\n@email     alex@grozav.com\n###\n\n(($, window, document) ->\n  \"use strict\"\n\n  $.fn.rockSlider.fluidLayout = ->\n    # Initialize the @parameters\n    #\n    @init = ->\n      # Add Classes\n      @element.addClass 'rock-slider-fluid'\n      return\n\n    # Set up the slider and each of the slides\n    #\n    @setup = ->\n      unless @cache?\n        return\n\n      @element.height @parent_height\n      @element.width @parent_width\n\n      # Set actual slider size, visible on the screen without overflowing\n      #\n      # @if parent_height > sliderHeight\n      #      Set 100% height to slides\n      # @else\n      #      Set 100% width to slides\n      if @parent_height > @element_height\n        @element_height = @parent_height\n        @element_width = @element_height / @settings.height * @settings.width\n\n        @inner.height @element_height\n        @inner.width @element_width\n\n      else\n        @element_width = @parent_width\n        @element_height = @element_width / @settings.width * @settings.height\n\n        @inner.height @element_height\n        @inner.width @element_width\n\n      # Slides Size\n      # Compute visible background image size and set margins to center the image\n      @slides.each (i, element) =>\n        $slide = $ element\n\n        # Set slider visible width and height, meaning area which is inside the\n        # container, overflowing on the screen\n        @visible_width = @element_width\n        @visible_height = @visible_width / @cache[i].background[0].width * @cache[i].background[0].height\n\n        # Margins for centering the images\n        margin_left = -(@visible_width - (@parent_width)) / 2\n        margin_top = -(@visible_height - (@parent_height)) / 2\n\n        margin_left = 0 if margin_left > 0\n        margin_top = 0 if margin_top > 0\n\n        # Set the margins\n        if @cache[i].background[0].grid.enabled\n          $background = $('.rock-background-main', $slide)\n          $background.css\n            'margin-top': margin_top\n            'margin-left': margin_left\n\n          grid = $('.rock-grid', $slide)\n          grid.css\n            'margin-top': margin_top\n            'margin-left': margin_left\n        else\n          $background = $('.rock-background-wrapper', $slide)\n          $background.css\n            'margin-top': margin_top\n            'margin-left': margin_left\n\n\n        if @settings.content_scaling is true\n          $('.rock-content-wrapper', @element).css\n            height: @parent_height / @scaling_value\n\n        # Slide Layers\n        width_ratio = @element_width / @settings.width\n        height_ratio = @element_height / @settings.height\n\n        # Get top, right, bottom and left position of the slide layers\n        $layers = $('.rock-layer-wrapper', $slide)\n        $layers.each (layer_index, layer) =>\n          layer_css = {}\n          if 'top' of @cache[i].layer[layer_index].position\n            layer_css.top = height_ratio * @cache[i].layer[layer_index].position.top + margin_top\n          else if 'bottom' of @cache[i].layer[layer_index].position\n            layer_css.bottom = height_ratio * @cache[i].layer[layer_index].position.bottom - margin_top\n\n          if 'left' of @cache[i].layer[layer_index].position\n            layer_css.left = width_ratio * @cache[i].layer[layer_index].position.left + margin_left\n          else if 'right' of @cache[i].layer[layer_index].position\n            layer_css.right = width_ratio * @cache[i].layer[layer_index].position.right - margin_left\n\n          if 'width' of @cache[i].layer[layer_index]\n            layer_css.width = width_ratio * @cache[i].layer[layer_index].width\n          if 'height' of @cache[i].layer[layer_index]\n            layer_css.height = height_ratio * @cache[i].layer[layer_index].height\n\n          $(layer).css layer_css\n\n          return\n\n        # Set slide to have a full screen Video Background\n        $video_background = $('.rock-video-background', $slide)\n        if $video_background.length > 0\n          $video = $('.video', $video_background)\n\n          data_width = parseInt($video.attr('data-rock-width'))\n          data_height = parseInt($video.attr('data-rock-height'))\n\n          video_width = @element_width\n          video_height = video_width * data_height / data_width\n\n          margin_left = -(video_width - (@parent_width)) / 2\n          margin_top = -(video_height - (@parent_height)) / 2\n\n          $video.css\n            'width': video_width\n            'height': video_height\n            'margin-left': margin_left\n            'margin-top': margin_top\n\n        return\n      return\n\n    # Display the slide element with index i and program the animation logic for\n    # each background, layer and object\n    #\n    # Previous slide needs to be set in order to preview the out animation so that\n    # we can create a transition between every slide\n    #\n    # The layers and objects need to be stopped and reanimated in order to prevent\n    # animation flaws.\n    #\n    # Layer and object animation will transition from an inverted\n    # animation state to a default state to provide normal slider behaviour\n    #\n    @slide = (i, prev) ->\n      return\n\n    return\n\n  # Add the layer to RockSlider as a new instance\n  #\n  $.rockSlider.add_layout 'fluid', $.fn.rockSlider.fluidLayout\n  return\n\n) jQuery, window, document\n"]}